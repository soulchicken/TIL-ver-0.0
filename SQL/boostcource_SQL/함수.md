## 함수
- 단일 및 복수 행 그리고 윈도우 함수로 나뉜다.
- 단일 행 함수 : 숫자형, 문자형, 날짜형, 형 변환, 일반
- 복수 행 함수 : 집계형, 그룹형 (GROUP BY 절과 함께 사용됨)
- 윈도우 함수 : 순위, 집계(누적)

### 1. 단일 행 함수
- 모든 행에 대하여 각각 적용되어 반환
- 함수들을 **중첩**하여 사용 가능
#### 1.1. 숫자형
- `ABS(숫자)` : 절댓값 반환
- `ROUNT(숫자,N)` : N 기준 반올림값 반환
- `SQRT()` : 제곱근 값 반환
#### 1.2. 문자형
- `LOWER(문자)`, `UPPER(문자)` : 소문자, 대문자로 반환
- `LEFT(문자, N)`, `RIGHT(문자, N)` : 왼/오른쪽에서 N자리 반환
- `LENGTH(문자)` : 문자열의 길이 반환
#### 1.3. 날짜형
- `YEAR/MONTH/DAY` : 연/월/일 반환
- `DATE_ADD(날짜, INTERVAL)` : INTERVAL을 더한 날짜 반환
- `DATEDIFF(날짜 A, 날짜 B)` : (날짜 A - 날짜 B)의 일 수 반환
#### 1.4. 형 변환
- `DATE_FORMAT(날짜, 형식)` : 형식에 맞게 날짜 반환

    - ```sql
        SELECT DATE_FORMAT('2022-02-22',%d-%m-%y);
        >>> 22-02-22
        SELECT DATE_FORMAT('2022-02-22',%d-%M-%Y);
        >>> 2nd-February-2202
      ```
- `CAST(형식 A, 형식 B)` : 형식을 A에서 B로 반환
#### 1.5. 일반
- `IFNULL(A, B)` : NULL 이 아니면 A, 맞으면 B 반환
- `CASE 문` : 여러 조건별로 분기

    - ```sql
        CASE
            WHEN [조건1] THEN [반환1]
            WHEN [조건2] THEN [반환2]
            ELSE [나머지]
            END
        ```

### 2. 복수 행 함수
- 여러 행들이 하나의 결과값으로 반환
- GROUP BY 절과 함께 사용된다.
#### 2.1. 집계 함수
- `COUNT(열)` : 행 수
    - `* COUNT(DISTRICT 열)` : 중복 행 제거, 행 수
- `SUM(열)` : 합계
- `AVG(열)` : 평균
- `MIN(열) / MAX(열)` : 최대 / 최소
#### 2.2. 그룹 함수
- `GROUP BY (열1, 열2) WITH ROLLUP` : GROUP BY 열 들을 왼쪽에서 오른쪽 순으로 그룹. 소계, 합계를 구할 수 있다.

### 3. 윈도우 함수
- 행과 행 간의 관계를 정의하여 결과값을 반환
- `ORDER BY`로 행과 행간의 순서를 정한다
- `PARTITION BY`로 그룹화가 가능하다
- 사용 방법
    - ```sql
      함수명() OVER (ORDER BY 컬럼 명 ASC) AS AA
      함수명() OVER (PARTITION BY 컬럼 명 DESC) AS BB
      ```
#### 3.1. 순위 함수
- `ROW_NUMBER` : 고유한 순위 반환 (1,2,3,4,5,6)
- `RANK` : 동일한 값이면 동일한 순위 반환 (1,2,2,4,4,6)
- `DENSE_RANK` : 동일한 값이면 하나의 등수로 동일한 순위 반환 (1,2,2,3,3,4)

#### 3.2. 집계(누적) 함수
- `COUNT` : 누적 행수
- `SUM` : 누적 합계
- `AVG` : 누적 평균
- `MAX / MIN` : 누적 최대 / 최소